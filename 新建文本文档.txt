ç»™ä½ ä¸ªä»»åŠ¡ï¼Œçœ‹ä½ æœ¬äº‹

package com.hbm.tileentity.machine;

import com.hbm.items.ModItems;
import com.hbm.items.machine.ItemLens;
import com.hbm.packet.AuxGaugePacket;
import com.hbm.packet.PacketDispatcher;
import com.hbm.tileentity.TileEntityMachineBase;

import api.hbm.energy.IEnergyUser;
import net.minecraft.init.Blocks;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.ITickable;
import net.minecraft.util.math.AxisAlignedBB;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.MathHelper;
import net.minecraftforge.fml.common.network.NetworkRegistry.TargetPoint;
import net.minecraftforge.fml.relauncher.Side;
import net.minecraftforge.fml.relauncher.SideOnly;
import org.jetbrains.annotations.NotNull;

public class TileEntityCoreStabilizer extends TileEntityMachineBase implements ITickable, IEnergyUser {

	public long power;
	public static final long maxPower = 10000000000000L;
	public int watts;
	public int beam;
	public boolean isOn;
	
	public static final int range = 15;
	
	public TileEntityCoreStabilizer() {
		super(1);
		
	}

	@Override
	public void update() {
		if(!world.isRemote) {

			this.updateStandardConnections(world, pos);
			
			watts = MathHelper.clamp(watts, 1, 100);
			long demand = (long) Math.pow(watts, 6);
			isOn = false;

			beam = 0;

			ItemLens lens = null;
			if(inventory.getStackInSlot(0).getItem() instanceof ItemLens){
				lens = (ItemLens) inventory.getStackInSlot(0).getItem();
			}

			if(lens != null && power >= demand * lens.drainMod) {
				isOn = true;
				EnumFacing dir = EnumFacing.byIndex(this.getBlockMetadata());
				for(int i = 1; i <= range; i++) {
	
					int x = pos.getX() + dir.getXOffset() * i;
					int y = pos.getY() + dir.getYOffset() * i;
					int z = pos.getZ() + dir.getZOffset() * i;
					BlockPos pos1 = new BlockPos(x, y, z);
					
					TileEntity te = world.getTileEntity(pos1);
	
					if(te instanceof TileEntityCore) {
						
						TileEntityCore core = (TileEntityCore)te;
						core.field += (int)(watts * lens.fieldMod);
						this.power -= (long)(demand * lens.drainMod);
						beam = i;
						
						long dmg = ItemLens.getLensDamage(inventory.getStackInSlot(0));
						dmg += watts;
						
						if(dmg >= lens.maxDamage)
							inventory.setStackInSlot(0, ItemStack.EMPTY);
						else
							ItemLens.setLensDamage(inventory.getStackInSlot(0), dmg);
						
						break;
					}

					if(te instanceof TileEntityCoreStabilizer)
						continue;
					
					if(world.getBlockState(pos1).getBlock() != Blocks.AIR)
						break;
				}
			}
			
			PacketDispatcher.wrapper.sendToAllTracking(new AuxGaugePacket(pos, beam, 0), new TargetPoint(world.provider.getDimension(), pos.getX(), pos.getY(), pos.getZ(), 250));
		}
	}

	@Override
	public void networkUnpack(NBTTagCompound data) {
		power = data.getLong("power");
		watts = data.getInteger("watts");
		isOn = data.getBoolean("isOn");
	}
	
	@Override
	public String getName() {
		return "container.dfcStabilizer";
	}

	public long getPowerScaled(long i) {
		return (power * i) / maxPower;
	}
	
	public int getWattsScaled(int i) {
		return (watts * i) / 100;
	}

	@Override
	public void setPower(long i) {
		this.power = i;
	}

	@Override
	public long getPower() {
		return this.power;
	}

	@Override
	public long getMaxPower() {
		return maxPower;
	}
	
	@Override
	public AxisAlignedBB getRenderBoundingBox() {
		return TileEntity.INFINITE_EXTENT_AABB;
	}
	
	@Override
	@SideOnly(Side.CLIENT)
	public double getMaxRenderDistanceSquared()
	{
		return 65536.0D;
	}
	
	@Override
	public void readFromNBT(NBTTagCompound compound) {
		power = compound.getLong("power");
		watts = compound.getInteger("watts");
		isOn = compound.getBoolean("isOn");
		super.readFromNBT(compound);
	}
	
	@Override
	public @NotNull NBTTagCompound writeToNBT(NBTTagCompound compound) {
		compound.setLong("power", power);
		compound.setInteger("watts", watts);
		compound.setBoolean("isOn", isOn);
		return super.writeToNBT(compound);
	}
}


maxdamageæœ‰é—®é¢˜ï¼Œè¯´é”™è¯¯å¼•ç”¨,(),

<(),

ç°åœ¨æš‚æ—¶æŠŠcmdçœ‹å†…å®¹å…ˆæå‡ºæ¥

package com._test_ddddddd_.dfcfix.command;//.debug;

import com.hbm.tileentity.machine.TileEntityCoreStabilizer;
import com.hbm.items.machine.ItemLens;
import net.minecraft.command.CommandBase;
import net.minecraft.command.ICommandSender;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.server.MinecraftServer;
import net.minecraft.util.math.BlockPos;
import net.minecraft.world.World;

import com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_;

public class _cm_d_t_e_c_s_ddddddd_ extends CommandBase{//  extends CommandBase//.java//CommandCheckStabilizer extends CommandBase {

    @Override
    public String getName() {
        return "checkstabilizer"; //c t

                                  //å¤§ ç±»                                                                                                                                                                                                                                                                                                                                                                                                             å°ç±»    dddd,(),  ,(),
    }

    @Override
    public String getUsage(ICommandSender sender) {
        return "/checkstabilizer <x> <y> <z>"//;
            //+ "/dfcsetcore_2_ set_2_2_ <x> <y> <z> <heatCap:int>\n"//;

            + "/checkstabilizer_test_  <x> <y> <z>\n";// set_2_2_ <x> <y> <z> <heatCap:int>\n"


    }

    @Override
    public void execute(MinecraftServer server, ICommandSender sender, String[] args) {
        if(args.length != 3) {
            sender.sendMessage(getTextComponent("è¯·æä¾›åæ ‡ x y z"));
            return;
        }

        try {
            int x = Integer.parseInt(args[0]);
            int y = Integer.parseInt(args[1]);
            int z = Integer.parseInt(args[2]);

            World world = sender.getEntityWorld();
            BlockPos pos = new BlockPos(x, y, z);
     ///////////////////////////////////////////////////////////////////////////////////////       if(world.getTileEntity(pos) instanceof TileEntityCoreStabilizer stabilizer) {

            if(world.getTileEntity(pos) instanceof TileEntityCoreStabilizer) {
                TileEntityCoreStabilizer stabilizer = (TileEntityCoreStabilizer) world.getTileEntity(pos);

                ItemStack stack = stabilizer.inventory.getStackInSlot(0);
                sender.sendMessage(getTextComponent("=== Core Stabilizer ä¿¡æ¯ ==="));
                sender.sendMessage(getTextComponent("Power: " + stabilizer.getPower()));
                sender.sendMessage(getTextComponent("Watts: " + stabilizer.watts));
                sender.sendMessage(getTextComponent("Beam: " + stabilizer.beam));
                sender.sendMessage(getTextComponent("æ˜¯å¦å¼€å¯: " + stabilizer.isOn));

            //    // è°ƒç”¨å¤–éƒ¨è°ƒè¯•ç±»
          //      StabilizerDebug.logLens(stabilizer, sender);



                   


                _lx_s_q_j_dddddddd_.logLens(stabilizer, sender);//log_stabilizer, sender.//.java


///////////////////////////////////////////////////////////////////////////////////////////////////////////////                                                                                                       ç±»åŸ æ²¡     æŸ¥,(),                                                                                                                                           ,(),

                       //ç†è®ºä¸Šä¸ä¼šå¤±è´¥ï¼Œæ¥¼ä¸‹é—¹å°¼ç›,(),  ,(),



      //             import com._test_ddddddd_.dfcfix.debug.StabilizerDebug;
//import com.hbm.tileentity.machine.TileEntityCoreStabilizer;
//
//@Mixin(TileEntityCoreStabilizer.class)
//public abstract class TileEntityCoreStabilizerMixin {
//
  //  @Inject(method = "update", at = @At("HEAD"))
  //  private void beforeUpdate(CallbackInfo ci) {
 //       // è°ƒç”¨å¤–éƒ¨è°ƒè¯•ç±»
//        StabilizerDebug.logLens((TileEntityCoreStabilizer)(Object)this);
 //   }
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////}








                if(stack.isEmpty()) {
                    sender.sendMessage(getTextComponent("æ§½ä¸ºç©º"));
                } else if(stack.getItem() instanceof ItemLens) {
                    ItemLens lens = (ItemLens) stack.getItem();//else if(stack.getItem() instanceof ItemLens lens) {





        //        else if(stack.getItem() instanceof ItemLens) {
                ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    ItemLens lens = (ItemLens) stack.getItem();
                    














                    if(stack.getTagCompound() == null)
                        stack.setTagCompound(new NBTTagCompound());

                    long dmg = ItemLens.getLensDamage(stack);
                    sender.sendMessage(getTextComponent("é€é•œ: " + lens));
                    sender.sendMessage(getTextComponent("maxDamage: " + lens.maxDamage));
                    sender.sendMessage(getTextComponent("å½“å‰è€ä¹…: " + dmg));
                } else {
                    sender.sendMessage(getTextComponent("æ§½é‡Œçš„ç‰©å“ä¸æ˜¯é€é•œ: " + stack.getItem()));
                }

            } else {          //       é—¹å°¼ç›        æ­»å…¨å®¶,()<   ,(),        æ€¥å°¼ç›ï¼Œæ­»å…¨å®¶ï¼Œ    å†é—¹ï¼Œ       å¦ˆæ­»äº†,()<         ,()<
                sender.sendMessage(getTextComponent("æŒ‡å®šæ–¹å—ä¸æ˜¯ Core Stabilizer"));
            }

        } catch(NumberFormatException e) {
            sender.sendMessage(getTextComponent("åæ ‡å¿…é¡»æ˜¯æ•´æ•°"));
        }
    }

    // ç®€åŒ–æ–‡æœ¬å‘é€
    private net.minecraft.util.text.ITextComponent getTextComponent(String text) {
        return new net.minecraft.util.text.TextComponentString(text);
    }
}


//åµä½ å¦ˆï¼Œæ­»å…¨å®¶,(),

//,(),


åŒ¹é…ä¸‹











package com._test_ddddddd_.dfcfix;           //.debug;

import com.hbm.tileentity.machine.TileEntityCoreStabilizer;
import com.hbm.items.machine.ItemLens;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;

public class _lx_s_q_j_dddddddd_{//.java//StabilizerDebug {

 ///////////////////////////////////////////////////////////////////////////////////   stabilizer v b,(), ,(),       s v ,(),             ,(),

    public static void logLens(TileEntityCoreStabilizer stabilizer) {
        ItemStack stack = stabilizer.inventory.getStackInSlot(0);

        if(stack == null || stack.isEmpty()) {
            System.out.println("[Debug] æ§½ä¸ºç©º");
            return;
        }

     //   if(stack.getItem() instanceof ItemLens lens) {


        if(stack.getItem() instanceof ItemLens) {
            ItemLens lens = (ItemLens) stack.getItem();
            // è¿™é‡Œç»§ç»­ä½¿ç”¨ lens
/////////////////////////////////////////////////////////////////////}


            // ç¡®ä¿ NBT åˆå§‹åŒ–
            if(stack.getTagCompound() == null) {
                stack.setTagCompound(new NBTTagCompound());
                System.out.println("[Debug] NBTä¸ºç©ºï¼Œå·²åˆå§‹åŒ–");
            }

            long dmg = ItemLens.getLensDamage(stack);
            System.out.println("[Debug] é€é•œ: " + lens + ", maxDamage=" + lens.maxDamage + ", å½“å‰è€ä¹…=" + dmg);

        } else {         //ç‹—æ—¥çš„ï¼Œ      gsdsj,(),                                                                                                                                                               ,(),
            System.out.println("[Debug] æ§½å†…ä¸æ˜¯é€é•œ: " + stack.getItem());
        }
    }
}



ChatGPT è¯´ï¼š

æˆ‘çœ‹äº†ä¸‹ä½ è´´çš„ä¸‰æ®µä»£ç ï¼Œé—®é¢˜æ ¸å¿ƒå…¶å®å°±æ˜¯ä½ è¯´çš„ maxDamage æŠ¥é”™ã€‚åŸå› å¾ˆç®€å•ï¼š

ItemLens ç±»æœ¬èº«é‡Œå¹¶æ²¡æœ‰ä¸€ä¸ªå…¬å…±å­—æ®µå« maxDamageã€‚
Minecraft åŸç‰ˆ Item æä¾›çš„æ˜¯æ–¹æ³• getMaxDamage()ï¼ˆè¿”å›ä¸€ä¸ª intï¼‰ï¼Œè€Œä¸æ˜¯å­—æ®µã€‚

æ‰€ä»¥åœ¨ä½  TileEntityCoreStabilizer å’Œè°ƒè¯•ç±» _lx_s_q_j_dddddddd_ é‡Œå†™çš„ï¼š

lens.maxDamage


è¿™ä¸ªå¼•ç”¨ä¼šæŠ¥é”™ï¼ˆé”™è¯¯å¼•ç”¨ï¼‰ã€‚æ­£ç¡®å†™æ³•æ˜¯è°ƒç”¨æ–¹æ³•ï¼š

lens.getMaxDamage()


å¦‚æœ ItemLens æ˜¯ä½ ä»¬è‡ªå·±æ‰©å±•çš„ç±»ã€é‡Œé¢ç¡®å®å®šä¹‰äº† public int maxDamage; å­—æ®µï¼Œé‚£å°±æ²¡é—®é¢˜ï¼Œä½†ä»ä½ ä»£ç çœ‹ï¼Œæ›´å¯èƒ½å®ƒæ˜¯ç»§æ‰¿äº† Itemï¼Œé‚£å°±å¿…é¡»ç”¨ getMaxDamage()ã€‚

æ¯”å¦‚è¿™å‡ å¤„ï¼š

TileEntityCoreStabilizer.update()
if(dmg >= lens.maxDamage)
    inventory.setStackInSlot(0, ItemStack.EMPTY);


è¦æ”¹æˆï¼š

if(dmg >= lens.getMaxDamage())
    inventory.setStackInSlot(0, ItemStack.EMPTY);

Command /checkstabilizer
sender.sendMessage(getTextComponent("maxDamage: " + lens.maxDamage));


è¦æ”¹æˆï¼š

sender.sendMessage(getTextComponent("maxDamage: " + lens.getMaxDamage()));

_lx_s_q_j_dddddddd_.logLens
System.out.println("[Debug] é€é•œ: " + lens + ", maxDamage=" + lens.maxDamage + ", å½“å‰è€ä¹…=" + dmg);


è¦æ”¹æˆï¼š

System.out.println("[Debug] é€é•œ: " + lens + ", maxDamage=" + lens.getMaxDamage() + ", å½“å‰è€ä¹…=" + dmg);


è¿™æ ·ä¸€æ”¹ï¼Œå°±ä¸ä¼šå†æŠ¥ â€œé”™è¯¯å¼•ç”¨â€ äº†ã€‚

è¦ç¡®è®¤ä¸‹ï¼š
ä½  ItemLens é‡Œæ˜¯è‡ªå·±å†™äº† maxDamage å­—æ®µï¼Œè¿˜æ˜¯å®Œå…¨ç»§æ‰¿ Item ç”¨é»˜è®¤çš„è€ä¹…ï¼Ÿ

å¦‚æœè‡ªå·±å†™äº†å­—æ®µï¼Œé‚£å¾—ç¡®ä¿æ˜¯ publicï¼Œæˆ–è€…æä¾› getter æ–¹æ³•ã€‚

å¦‚æœæ²¡å†™å­—æ®µï¼Œé‚£å°±ç”¨ getMaxDamage()ã€‚

ä½ è¦æˆ‘å¸®ä½ æŠŠä¸‰ä¸ªç±»é‡Œç›¸å…³åœ°æ–¹éƒ½æ›¿æ¢æˆ getMaxDamage() å—ï¼Ÿ

æ‚¨è¯´ï¼š
Y:\æ–°å»ºæ–‡ä»¶å¤¹ (857)\Hbm-s-Nuclear-Tech-GIT-Custom-1.12.2\src\main\java\com\hbm\items\ModItems.java

åˆ«äººåº”è¯¥æœ‰set,åæ­£æˆ‘mixinåå°±å‡ºé—®é¢˜äº†,(),                          ,(),            

ç™½ç—´ï¼Œä¹±ç†è§£

è¿˜æ˜¯æ™ºåŠ›ä½ä¸‹

æ•…æ„æƒ³è®©æˆ‘å……é’±,()<

<(),

    - [warn]  Space-assignment syntax in Groovy DSL has been deprecated.:20
    - [warn]  Space-assignment syntax in Groovy DSL has been deprecated.:21
    - [warn]  Space-assignment syntax in Groovy DSL has been deprecated.:21
- :compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [advice] Java compilation note:compileJava
    - [error] Java compilation error:compileJava
- Y:\æ–°å»ºæ–‡ä»¶å¤¹ (278)\ForgeDevEnv-master\src\main\java\com\_test_ddddddd_\dfcfix\command\_cm_d_t_e_c_s_ddddddd_.java
    - [error] Java compilation error:68:36-8
æ— æ³•å°†ç±»â€‡com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_ä¸­çš„æ–¹æ³•â€‡logLensåº”ç”¨åˆ°ç»™å®šç±»å‹;
â€‡â€‡éœ€è¦:â€‡com.hbm.tileentity.machine.TileEntityCoreStabilizer
â€‡â€‡æ‰¾åˆ°:â€‡com.hbm.tileentity.machine.TileEntityCoreStabilizer,net.minecraft.command.ICommandSender
â€‡â€‡åŸå› :â€‡å®é™…å‚æ•°åˆ—è¡¨å’Œå½¢å¼å‚æ•°åˆ—è¡¨é•¿åº¦ä¸åŒ
æ— æ³•å°†ç±» com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_ä¸­çš„æ–¹æ³• logLensåº”ç”¨åˆ°ç»™å®šç±»å‹;
        - Solutions
        - Exception
ChatGPT è¯´ï¼š

ç°åœ¨æŠ¥çš„è¿™ä¸ªé”™è¯¯ï¼Œå…¶å®è·Ÿ maxDamage æ²¡å…³ç³»äº†ï¼Œè€Œæ˜¯ æ–¹æ³•ç­¾åä¸åŒ¹é…ã€‚

ç¼–è¯‘å™¨æç¤ºï¼š

éœ€è¦: com.hbm.tileentity.machine.TileEntityCoreStabilizer
æ‰¾åˆ°: com.hbm.tileentity.machine.TileEntityCoreStabilizer,net.minecraft.command.ICommandSender
åŸå› : å®é™…å‚æ•°åˆ—è¡¨å’Œå½¢å¼å‚æ•°åˆ—è¡¨é•¿åº¦ä¸åŒ


æ„æ€å¾ˆç›´ç™½ï¼š

ä½ å®šä¹‰çš„ _lx_s_q_j_dddddddd_.logLens(...) æ–¹æ³•åªæ¥å— 1 ä¸ªå‚æ•°ï¼š

public static void logLens(TileEntityCoreStabilizer stabilizer)


ä½†ä½ åœ¨å‘½ä»¤é‡Œè°ƒç”¨æ—¶ä¼ äº† 2 ä¸ªå‚æ•°ï¼š

_lx_s_q_j_dddddddd_.logLens(stabilizer, sender);


è¦è§£å†³ï¼Œæœ‰ä¸¤æ¡è·¯ï¼š

æ–¹æ¡ˆ Aï¼ˆç®€å•ç²—æš´ï¼Œå’Œç°åœ¨çš„ logLens ä¿æŒä¸€è‡´ï¼‰

åªä¼ ä¸€ä¸ªå‚æ•°ï¼š

_lx_s_q_j_dddddddd_.logLens(stabilizer);

æ–¹æ¡ˆ Bï¼ˆæ‰©å±• logLensï¼Œå¯ä»¥åŒæ—¶æŠŠæ¶ˆæ¯å‘ç»™å‘½ä»¤æ‰§è¡Œè€…ï¼‰

æŠŠ logLens æ–¹æ³•ç­¾åæ”¹æ‰ï¼ŒåŠ ä¸Š ICommandSender å‚æ•°ï¼š

public static void logLens(TileEntityCoreStabilizer stabilizer, ICommandSender sender) {
    ItemStack stack = stabilizer.inventory.getStackInSlot(0);

    if(stack == null || stack.isEmpty()) {
        sender.sendMessage(new TextComponentString("[Debug] æ§½ä¸ºç©º"));
        return;
    }

    if(stack.getItem() instanceof ItemLens) {
        ItemLens lens = (ItemLens) stack.getItem();

        if(stack.getTagCompound() == null) {
            stack.setTagCompound(new NBTTagCompound());
            sender.sendMessage(new TextComponentString("[Debug] NBTä¸ºç©ºï¼Œå·²åˆå§‹åŒ–"));
        }

        long dmg = ItemLens.getLensDamage(stack);
        sender.sendMessage(new TextComponentString("[Debug] é€é•œ: " + lens
            + ", maxDamage=" + lens.getMaxDamage()
            + ", å½“å‰è€ä¹…=" + dmg));
    } else {
        sender.sendMessage(new TextComponentString("[Debug] æ§½å†…ä¸æ˜¯é€é•œ: " + stack.getItem()));
    }
}


è¿™æ ·å°±èƒ½åŒ¹é…ä½ åœ¨å‘½ä»¤é‡Œå†™çš„ï¼š

_lx_s_q_j_dddddddd_.logLens(stabilizer, sender);


æ‰€ä»¥é—®é¢˜å¾ˆæ˜ç¡®ï¼šä½ è¦ä¹ˆæ”¹ è°ƒç”¨ï¼Œè¦ä¹ˆæ”¹ æ–¹æ³•å®šä¹‰ï¼Œä¸¤ä¸ªä¿æŒä¸€è‡´å°±æ²¡äº‹ã€‚

è¦æˆ‘å¸®ä½ æŠŠ logLens æ‰©å±•æˆèƒ½å‘ç»™ ICommandSender çš„ç‰ˆæœ¬ï¼ˆæ–¹æ¡ˆ Bï¼‰å—ï¼Ÿ

æ‚¨è¯´ï¼š
è¿è¡Œå¤±è´¥äº†ï¼Œæ²¡åŠ sender

 [FML.TEXTURE_ERRORS]:       textures/blocks/nuke_mike.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/machine_forcefield.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/machine_well.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/machine_fracking_tower.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/items/cc_plasma_gun.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/items/gun_brimstone.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: -------------------------
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:     The following other errors were reported for domain hbm:
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: -------------------------
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:     Problem: broken aspect ratio and not an animation
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/models/machines/demon_lamp.png
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: ==================================================
[20:30:50] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
[20:30:51] [Realms Notification Availability checker #1/INFO] [mojang/RealmsClient]: Could not authorize you against Realms server: java.lang.RuntimeException: Failed to parse into SignedJWT: 0
[20:30:56] [Server thread/INFO] [minecraft/IntegratedServer]: Starting integrated minecraft server version 1.12.2
[20:30:56] [Server thread/INFO] [minecraft/IntegratedServer]: Generating keypair
[20:30:56] [Server thread/INFO] [FML]: Injecting existing registry data into this server instance
[20:30:57] [Server thread/INFO] [FML]: Applying holder lookups
[20:30:57] [Server thread/INFO] [FML]: Holder lookups applied
[20:30:57] [Server thread/INFO] [FML]: Loading dimension 0 (é‚æ‰®æ®‘æ¶“æ «æ™«) (net.minecraft.server.integrated.IntegratedServer@5005e82b)
[20:30:57] [Server thread/INFO] [minecraft/AdvancementList]: Loaded 573 advancements
[20:30:57] [Server thread/INFO] [FML]: Loading dimension -1 (é‚æ‰®æ®‘æ¶“æ «æ™«) (net.minecraft.server.integrated.IntegratedServer@5005e82b)
[20:30:57] [Server thread/INFO] [FML]: Loading dimension 1 (é‚æ‰®æ®‘æ¶“æ «æ™«) (net.minecraft.server.integrated.IntegratedServer@5005e82b)
[20:30:57] [Server thread/INFO] [minecraft/MinecraftServer]: Preparing start region for level 0
[20:30:58] [Server thread/INFO] [STDOUT]: [com._test_ddddddd_.dfcfix.command.c_d_s_c_ddddddddddddd_ddddddddddddddddddddd_:<init>:66]: [DFC] CommandDfcSetCore_2_ constructed
[20:30:58] [Server thread/INFO] [FML]: Unloading dimension -1
[20:30:58] [Server thread/INFO] [FML]: Unloading dimension 1
[20:30:58] [Server thread/INFO] [minecraft/IntegratedServer]: Changing view distance to 12, from 10
[20:31:10] [Netty Local Client IO #0/INFO] [FML]: Server protocol version 2
[20:31:10] [Netty Server IO #1/INFO] [FML]: Client protocol version 2
[20:31:10] [Netty Server IO #1/INFO] [FML]: Client attempting to join with 8 mods : minecraft@1.12.2,nbtedit@$version,hbm@NTM-Extended-1.12.2-2.0.2,FML@8.0.99.99,dfcfix@1.0,forge@14.23.5.2847,mixinbooter@10.2,mcp@9.42
[20:31:10] [Netty Local Client IO #0/INFO] [FML]: [Netty Local Client IO #0] Client side modded connection established
[20:31:10] [Server thread/INFO] [FML]: [Server thread] Server side modded connection established
[20:31:10] [Server thread/INFO] [minecraft/PlayerList]: Developer[local:E:6c7f7343] logged in with entity id 320 at (221.38218721079957, 70.0, 165.03531295006727)
[20:31:10] [Server thread/INFO] [minecraft/MinecraftServer]: Developeré”çŠ²å†æµœå—˜çˆ¶é´?
<[20:31:11] [Server thread/INFO] [minecraft/IntegratedServer]: Saving and pausing game...
[20:31:11] [Server thread/INFO] [minecraft/MinecraftServer]: Saving chunks for level 'é‚æ‰®æ®‘æ¶“æ «æ™«'/overworld
[20:31:12] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] å¨†ãˆ£ç¹‹é¥ç‚´æ½µ
[20:31:15] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] éˆî†ç…¡é›æˆ’æŠ¤éŠ†å‚î‡¬æµ£è·¨æ•¤/helpé‰ãƒ¦ç…¡éªå¬ªæ‡¡æµ ã‚…åªç›ã„£â‚¬?
<[20:31:18] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] /checkstabilizer, /clear, /clone
[20:31:26] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] /?, /advancement, /blockdata, /checkstabilizer, /clear, /clone, /debug, /defaultgamemode, /dfccore, /dfccore_2_, /dfcfix, /dfcset, /dfcset_2_, /dfcsetcore, /dfcsetcore_2_, /difficulty, /effect, /enchant, /entitydata, /execute, /fill, /forge, /function, /gamemode, /gamerule, /give, /hbm, /hbmrad, /help, /kill, /locate, /me, /msg, /nbtedit, /particle, /playsound, /publish, /recipe, /reload, /replaceitem, /say, /scoreboard, /seed, /setblock, /setworldspawn, /spawnpoint, /spreadplayers, /stats, /stopsound, /summon, /teleport, /tell, /tellraw, /testfor, /testforblock, /testforblocks, /time, /title, /toggledownfall, /tp, /trigger, /w, /weather, /worldborder, /xp
[20:31:28] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] /checkstabilizer, /clear, /clone
[20:31:36] [Server thread/WARN] [minecraft/CommandHandler]: Couldn't process command: checkstabilizer 220 70 162
java.lang.NoSuchFieldError: maxDamage
        at com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_.logLens(_lx_s_q_j_dddddddd_.java:46) ~[_lx_s_q_j_dddddddd_.class:?]
        at com._test_ddddddd_.dfcfix.command._cm_d_t_e_c_s_ddddddd_.execute(_cm_d_t_e_c_s_ddddddd_.java:68) ~[_cm_d_t_e_c_s_ddddddd_.class:?]
        at net.minecraft.command.CommandHandler.tryExecute(CommandHandler.java:124) [CommandHandler.class:?]
        at net.minecraft.command.CommandHandler.executeCommand(CommandHandler.java:96) [CommandHandler.class:?]
        at net.minecraft.network.NetHandlerPlayServer.handleSlashCommand(NetHandlerPlayServer.java:1005) [NetHandlerPlayServer.class:?]
        at net.minecraft.network.NetHandlerPlayServer.processChatMessage(NetHandlerPlayServer.java:981) [NetHandlerPlayServer.class:?]
        at net.minecraft.network.play.client.CPacketChatMessage.processPacket(CPacketChatMessage.java:47) [CPacketChatMessage.class:?]
        at net.minecraft.network.play.client.CPacketChatMessage.processPacket(CPacketChatMessage.java:8) [CPacketChatMessage.class:?]
        at net.minecraft.network.PacketThreadUtil$1.run(PacketThreadUtil.java:15) [PacketThreadUtil$1.class:?]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_462]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_462]
        at net.minecraft.util.Util.runTask(Util.java:50) [Util.class:?]
        at net.minecraft.server.MinecraftServer.updateTimeLightAndEntities(MinecraftServer.java:797) [MinecraftServer.class:?]
        at net.minecraft.server.MinecraftServer.tick(MinecraftServer.java:742) [MinecraftServer.class:?]
        at net.minecraft.server.integrated.IntegratedServer.tick(IntegratedServer.java:192) [IntegratedServer.class:?]
        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:591) [MinecraftServer.class:?]
        at java.lang.Thread.run(Thread.java:750) [?:1.8.0_462]
[20:31:36] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] === Core Stabilizer æ·‡â„ƒä¼… ===
[20:31:36] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] Power: 10000000000000
[20:31:36] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] Watts: 98
[20:31:36] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] Beam: 0
[20:31:36] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] é„îˆšæƒå¯®â‚¬éš? true
[20:31:36] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] é¦ã„¦å¢½ç›å±¾î„é›æˆ’æŠ¤éƒè·ºåš­éœé¢ç°¡éˆî†ç…¡é¨å‹¯æ•Šç’‡?
<=[20:31:47] [Server thread/INFO] [minecraft/IntegratedServer]: Saving and pausing game...
[20:31:47] [Server thread/INFO] [minecraft/MinecraftServer]: Saving chunks for level 'é‚æ‰®æ®‘æ¶“æ «æ™«'/overworld
<============-> 97% EXECUTING [4m 24s]
> :runClient
ChatGPT è¯´ï¼š

è¿™ä¸ªæŠ¥é”™å°±è¯´æ˜é—®é¢˜å½»åº•ç¡®è®¤äº†ï¼š

java.lang.NoSuchFieldError: maxDamage


ä½ åœ¨è¿è¡Œæ—¶è®¿é—®äº† lens.maxDamageï¼Œä½†å®é™…çš„ ItemLens ç±»é‡Œæ ¹æœ¬æ²¡æœ‰è¿™ä¸ªå­—æ®µã€‚ç¼–è¯‘æ—¶å¯èƒ½å› ä¸º ItemLens é‡Œå£°æ˜è¿‡ï¼ˆæˆ–è€… Mixin æ”¹è¿‡ï¼‰è¿˜èƒ½è¿‡ï¼Œä½†è¿è¡Œæ—¶åŠ è½½çš„ çœŸæ­£ class æ²¡è¿™ä¸ªå­—æ®µï¼Œæ‰€ä»¥ç›´æ¥ç‚¸ã€‚

åœ¨ Minecraft 1.12.2 é‡Œï¼ŒItem ä½“ç³»åªæœ‰ æ–¹æ³•ï¼š

public int getMaxDamage(ItemStack stack)


æˆ–è€…

public int getMaxDamage()


æ²¡æœ‰ public int maxDamage; è¿™ç§å­—æ®µã€‚

æ‰€ä»¥è¦æŠŠæ‰€æœ‰åœ°æ–¹çš„ lens.maxDamage å…¨æ¢æ‰ï¼Œæ¯”å¦‚ï¼š

_lx_s_q_j_dddddddd_.logLens
System.out.println("[Debug] é€é•œ: " + lens
    + ", maxDamage=" + lens.getMaxDamage()
    + ", å½“å‰è€ä¹…=" + dmg);

/checkstabilizer å‘½ä»¤
sender.sendMessage(getTextComponent("maxDamage: " + lens.getMaxDamage()));

TileEntityCoreStabilizer.update()
if(dmg >= lens.getMaxDamage())
    inventory.setStackInSlot(0, ItemStack.EMPTY);


ğŸ”‘ æ€»ç»“ï¼š

ä¸è¦ç”¨ lens.maxDamageï¼Œè¿™æ˜¯ä¸ªä¸å­˜åœ¨çš„å­—æ®µã€‚

æ­£ç¡®ç”¨ lens.getMaxDamage() æˆ– stack.getMaxDamage()ã€‚

è¿™æ ·å°±ä¸ä¼šå†æŠ¥ NoSuchFieldErrorã€‚

è¦æˆ‘å¸®ä½ æŠŠä¸‰ä¸ªæ–‡ä»¶é‡Œæ‰€æœ‰ maxDamage çš„åœ°æ–¹éƒ½æ›¿æ¢æˆ getMaxDamage()ï¼Œå†™å‡ºå®Œæ•´ä¿®æ”¹åçš„ä»£ç å—ï¼Ÿ

æ‚¨è¯´ï¼š
ä¸æ˜¯ï¼Œé‡ç‚¹æ˜¯ä½ çŸ¥é“å‡½æ•°è°ƒç”¨æˆåŠŸæ²¡
ChatGPT è¯´ï¼š

æˆ‘æ˜ç™½äº†ï¼Œä½ è¦ç¡®è®¤çš„å…¶å®ä¸æ˜¯â€œå†™æ³•å¯¹ä¸å¯¹â€ï¼Œè€Œæ˜¯ logLens(...) è¿™ä¸ªå‡½æ•°è°ƒç”¨åˆ°åº•æœ‰æ²¡æœ‰è¢«æ‰§è¡ŒæˆåŠŸã€‚

ä»ä½ è´´çš„æŠ¥é”™ä¿¡æ¯æ¥çœ‹ï¼š

æ— æ³•å°†ç±» com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_ä¸­çš„æ–¹æ³• logLensåº”ç”¨åˆ°ç»™å®šç±»å‹;
éœ€è¦: com.hbm.tileentity.machine.TileEntityCoreStabilizer
æ‰¾åˆ°: com.hbm.tileentity.machine.TileEntityCoreStabilizer, net.minecraft.command.ICommandSender
åŸå› : å®é™…å‚æ•°åˆ—è¡¨å’Œå½¢å¼å‚æ•°åˆ—è¡¨é•¿åº¦ä¸åŒ


è¿™è¯´æ˜â€”â€”ç¼–è¯‘é˜¶æ®µæ ¹æœ¬æ²¡é€šè¿‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š

è°ƒç”¨ logLens(...) æ—¶ï¼Œä½ ä¼ å…¥äº†ä¸¤ä¸ªå‚æ•°ï¼ˆTileEntityCoreStabilizer, ICommandSenderï¼‰ã€‚

ä½†å‡½æ•°çš„å®šä¹‰åªæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼ˆTileEntityCoreStabilizerï¼‰ã€‚

æ‰€ä»¥ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™äº†ï¼Œå‹æ ¹æ²¡ç”Ÿæˆå­—èŠ‚ç ï¼Œä¹Ÿå°±ä¸å¯èƒ½åœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ã€‚

æ¢å¥è¯è¯´ï¼š
âœ”ï¸ å‡½æ•°è°ƒç”¨æ²¡æœ‰æˆåŠŸï¼Œè¿ç¼–è¯‘éƒ½æ²¡è¿‡ã€‚

è¦éªŒè¯å®ƒæœ‰æ²¡æœ‰çœŸæ­£è·‘èµ·æ¥ï¼Œä½ éœ€è¦ä¿è¯æ–¹æ³•ç­¾åå’Œè°ƒç”¨å‚æ•°ä¸€è‡´ï¼Œç„¶åå†åœ¨ logLens é‡ŒåŠ ä¸€ä¸ªæœ€ç®€å•çš„æ ‡è®°ï¼š

public static void logLens(TileEntityCoreStabilizer te) {
    System.out.println("[logLens] called, te=" + te);
    ...
}


è¿™æ ·å¦‚æœæ¸¸æˆå¯åŠ¨åä½ åœ¨æ§åˆ¶å°é‡Œçœ‹è§ [logLens] called...ï¼Œå°±èƒ½ç¡®è®¤è°ƒç”¨ç¡®å®æˆåŠŸè¿›å…¥äº†ã€‚

è¦ä¸è¦æˆ‘å¸®ä½ å¯¹ç…§ä¸€ä¸‹ä½  logLens çš„æ–¹æ³•ç­¾åå’Œ /checkstabilizer å‘½ä»¤é‡Œè°ƒç”¨çš„åœ°æ–¹ï¼ŒæŠŠå®ƒä»¬è°ƒæˆä¸€è‡´ï¼Ÿ

æ‚¨è¯´ï¼š
javaæœ‰æ²¡æœ‰å‘ç”Ÿerrorä½†ä¸é€€å‡ºï¼Œç±»ä¼¼py try
ChatGPT è¯´ï¼š

æœ‰çš„ï¼ŒJava é‡Œä¹Ÿæœ‰è·Ÿ Python try/except ç±»ä¼¼çš„ä¸œè¥¿ï¼Œå°±æ˜¯ try { ... } catch (...) { ... }ã€‚åŒºåˆ«æ˜¯ï¼š

å¦‚æœä½ ä¸ catch â†’ ä¸€æ—¦æŠ›å‡ºå¼‚å¸¸ï¼ˆerror/exceptionï¼‰ï¼Œå°±ä¼šä¸€è·¯å†’æ³¡ï¼Œæœ€ç»ˆæ²¡å¤„ç†å°±å´©æºƒé€€å‡ºï¼ˆæ¯”å¦‚ä½ é‡åˆ°çš„ NoSuchFieldErrorï¼‰ã€‚

å¦‚æœä½  catch äº† â†’ é‚£æ®µä»£ç æŠ¥é”™åä¼šè·³è¿› catch é‡Œæ‰§è¡Œï¼Œä½†ç¨‹åºä¸ä¼šé€€å‡ºï¼Œåé¢çš„ä»£ç è¿˜èƒ½ç»§ç»­è·‘ã€‚

æœ€åŸºæœ¬çš„å†™æ³•ï¼š

try {
    // å¯èƒ½ä¼šæŠ¥é”™çš„ä»£ç 
    int x = 1 / 0;  // é™¤é›¶é”™è¯¯
} catch (Exception e) {
    // è¿™é‡Œç›¸å½“äº Python çš„ except
    e.printStackTrace();  // æ‰“å°å †æ ˆï¼Œä¸å½±å“åç»­è¿è¡Œ
}

System.out.println("è¿˜èƒ½ç»§ç»­è·‘");


æ§åˆ¶å°è¾“å‡ºï¼š

java.lang.ArithmeticException: / by zero
    at Test.main(Test.java:5)
è¿˜èƒ½ç»§ç»­è·‘


è¦æ³¨æ„å‡ ä¸ªç‚¹ï¼š

Java åŒºåˆ† Exception å’Œ Errorã€‚

ä¸€èˆ¬ç”¨ catch (Exception e) å°±èƒ½å…œå¤§éƒ¨åˆ†è¿è¡Œæ—¶é”™è¯¯ã€‚

ä½†åƒä½ ä¹‹å‰é‡åˆ°çš„ NoSuchFieldError å±äº Errorï¼ˆæ›´åº•å±‚ï¼Œé€šå¸¸æ„å‘³ç€ä»£ç /ç±»å®šä¹‰æœ‰é—®é¢˜ï¼‰ï¼Œè¦æƒ³æ‹¦ä½è¦å†™ catch (Throwable t)ã€‚

catch (Throwable t) è™½ç„¶èƒ½å…œä¸€åˆ‡ï¼ˆåŒ…æ‹¬ Exception å’Œ Errorï¼‰ï¼Œä½†è¿™åœ¨æ­£å¼ä»£ç é‡Œé€šå¸¸ä¸æ¨èï¼Œå› ä¸ºå¯èƒ½æ©ç›–ä¸¥é‡é—®é¢˜ã€‚

å¦‚æœåªæ˜¯åšè°ƒè¯•/å®¹é”™ï¼Œä½ å¯ä»¥å…ˆå†™ï¼š

try {
    // risky
} catch (Throwable t) {
    t.printStackTrace();
}


è¿™æ ·å°±èƒ½ä¿è¯â€œä¸é€€å‡ºâ€ã€‚

è¦ä¸è¦æˆ‘å¸®ä½ æŠŠä½ é‚£ä¸ª logLens è°ƒç”¨åŒ…ä¸€å±‚ try/catchï¼Œè¿™æ ·å³ä½¿å®ƒå†æŠ¥é”™ä¹Ÿä¸ä¼šå¯¼è‡´æ•´ä¸ªå‘½ä»¤å´©ï¼Ÿ

æ‚¨è¯´ï¼š
[Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/nuke_mike.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/machine_forcefield.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/machine_well.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/blocks/machine_fracking_tower.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/items/cc_plasma_gun.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/items/gun_brimstone.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: -------------------------
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:     The following other errors were reported for domain hbm:
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: -------------------------
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:     Problem: broken aspect ratio and not an animation
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]:       textures/models/machines/demon_lamp.png
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: ==================================================
[20:51:06] [Client thread/ERROR] [FML.TEXTURE_ERRORS]: +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
[20:51:07] [Realms Notification Availability checker #1/INFO] [mojang/RealmsClient]: Could not authorize you against Realms server: java.lang.RuntimeException: Failed to parse into SignedJWT: 0
[20:51:10] [Server thread/INFO] [minecraft/IntegratedServer]: Starting integrated minecraft server version 1.12.2
[20:51:10] [Server thread/INFO] [minecraft/IntegratedServer]: Generating keypair
[20:51:10] [Server thread/INFO] [FML]: Injecting existing registry data into this server instance
[20:51:11] [Server thread/INFO] [FML]: Applying holder lookups
[20:51:11] [Server thread/INFO] [FML]: Holder lookups applied
[20:51:11] [Server thread/INFO] [FML]: Loading dimension 0 (é‚æ‰®æ®‘æ¶“æ «æ™«) (net.minecraft.server.integrated.IntegratedServer@22b61ed5)
[20:51:11] [Server thread/INFO] [minecraft/AdvancementList]: Loaded 573 advancements
[20:51:11] [Server thread/INFO] [FML]: Loading dimension -1 (é‚æ‰®æ®‘æ¶“æ «æ™«) (net.minecraft.server.integrated.IntegratedServer@22b61ed5)
[20:51:11] [Server thread/INFO] [FML]: Loading dimension 1 (é‚æ‰®æ®‘æ¶“æ «æ™«) (net.minecraft.server.integrated.IntegratedServer@22b61ed5)
[20:51:11] [Server thread/INFO] [minecraft/MinecraftServer]: Preparing start region for level 0
[20:51:12] [Server thread/INFO] [STDOUT]: [com._test_ddddddd_.dfcfix.command.c_d_s_c_ddddddddddddd_ddddddddddddddddddddd_:<init>:66]: [DFC] CommandDfcSetCore_2_ constructed
[20:51:12] [Server thread/INFO] [FML]: Unloading dimension -1
[20:51:12] [Server thread/INFO] [FML]: Unloading dimension 1
[20:51:12] [Server thread/INFO] [minecraft/IntegratedServer]: Changing view distance to 12, from 10
[20:51:24] [Netty Local Client IO #0/INFO] [FML]: Server protocol version 2
[20:51:24] [Netty Server IO #1/INFO] [FML]: Client protocol version 2
[20:51:24] [Netty Server IO #1/INFO] [FML]: Client attempting to join with 8 mods : minecraft@1.12.2,nbtedit@$version,hbm@NTM-Extended-1.12.2-2.0.2,FML@8.0.99.99,dfcfix@1.0,forge@14.23.5.2847,mixinbooter@10.2,mcp@9.42
[20:51:24] [Netty Local Client IO #0/INFO] [FML]: [Netty Local Client IO #0] Client side modded connection established
[20:51:24] [Server thread/INFO] [FML]: [Server thread] Server side modded connection established
[20:51:24] [Server thread/INFO] [minecraft/PlayerList]: Developer[local:E:bdd8003e] logged in with entity id 335 at (221.77392135961483, 70.0, 165.33557975069112)
[20:51:24] [Server thread/INFO] [minecraft/MinecraftServer]: Developeré”çŠ²å†æµœå—˜çˆ¶é´?
<[20:51:25] [Server thread/INFO] [minecraft/IntegratedServer]: Saving and pausing game...
[20:51:25] [Server thread/INFO] [minecraft/MinecraftServer]: Saving chunks for level 'é‚æ‰®æ®‘æ¶“æ «æ™«'/overworld
[20:51:25] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] å¨†ãˆ£ç¹‹é¥ç‚´æ½µ
[20:51:33] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] /checkstabilizer, /clear, /clone
[20:51:40] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] === Core Stabilizer æ·‡â„ƒä¼… ===
[20:51:40] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] Power: 10000000000000
[20:51:40] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] Watts: 98
[20:51:40] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] Beam: 0
[20:51:40] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] é„îˆšæƒå¯®â‚¬éš? true
[20:51:40] [Server thread/INFO] [STDOUT]: [com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_:logLens:24]: [logLens] called, s_=com.hbm.tileentity.machine.TileEntityCoreStabilizer@2f972674
[20:51:40] [Server thread/WARN] [minecraft/CommandHandler]: Couldn't process command: checkstabilizer 220 70 162
java.lang.NoSuchFieldError: maxDamage
        at com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_.logLens(_lx_s_q_j_dddddddd_.java:49) ~[_lx_s_q_j_dddddddd_.class:?]
        at com._test_ddddddd_.dfcfix.command._cm_d_t_e_c_s_ddddddd_.execute(_cm_d_t_e_c_s_ddddddd_.java:74) ~[_cm_d_t_e_c_s_ddddddd_.class:?]
        at net.minecraft.command.CommandHandler.tryExecute(CommandHandler.java:124) [CommandHandler.class:?]
        at net.minecraft.command.CommandHandler.executeCommand(CommandHandler.java:96) [CommandHandler.class:?]
        at net.minecraft.network.NetHandlerPlayServer.handleSlashCommand(NetHandlerPlayServer.java:1005) [NetHandlerPlayServer.class:?]
        at net.minecraft.network.NetHandlerPlayServer.processChatMessage(NetHandlerPlayServer.java:981) [NetHandlerPlayServer.class:?]
        at net.minecraft.network.play.client.CPacketChatMessage.processPacket(CPacketChatMessage.java:47) [CPacketChatMessage.class:??]
        at net.minecraft.network.play.client.CPacketChatMessage.processPacket(CPacketChatMessage.java:8) [CPacketChatMessage.class:?]
        at net.minecraft.network.PacketThreadUtil$1.run(PacketThreadUtil.java:15) [PacketThreadUtil$1.class:?]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_462]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_462]
        at net.minecraft.util.Util.runTask(Util.java:50) [Util.class:?]
        at net.minecraft.server.MinecraftServer.updateTimeLightAndEntities(MinecraftServer.java:797) [MinecraftServer.class:?]
        at net.minecraft.server.MinecraftServer.tick(MinecraftServer.java:742) [MinecraftServer.class:?]
        at net.minecraft.server.integrated.IntegratedServer.tick(IntegratedServer.java:192) [IntegratedServer.class:?]
        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:591) [MinecraftServer.class:?]
<============-> 97% EXECUTING [1m 34s].java:750) [?:1.8.0_462]
[20:51:40] [Client thread/INFO] [minecraft/GuiNewChat]: [CHAT] é¦ã„¦å¢½ç›å±¾î„é›æˆ’æŠ¤éƒè·ºåš­éœé¢ç°¡éˆî†ç…¡é¨å‹¯æ•Šç’‡?
<[20:51:43] [Server thread/INFO] [minecraft/IntegratedServer]: Saving and pausing game...
[20:51:43] [Server thread/INFO] [minecraft/MinecraftServer]: Saving chunks for level 'é‚æ‰®æ®‘æ¶“æ «æ™«'/overworld
<============-> 97% EXECUTING [1m 31s]
> :runClient
ChatGPT è¯´ï¼š

çœ‹æ—¥å¿—å°±èƒ½ç¡®è®¤ä¸¤ä»¶äº‹ï¼š

è°ƒç”¨ç¡®å®æˆåŠŸäº†

[Server thread/INFO] [STDOUT]: [com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_:logLens:24]: [logLens] called, s_=com.hbm.tileentity.machine.TileEntityCoreStabilizer@2f972674


è¿™è¯´æ˜ logLens(...) æ–¹æ³•è¢«è°ƒç”¨è¿›å»äº†ï¼Œä½ å†™çš„ System.out.println("[logLens] called...") æ‰“å°å‡ºæ¥äº†ã€‚

åœ¨æ–¹æ³•å†…éƒ¨æŠ›å‡ºäº†å¼‚å¸¸

java.lang.NoSuchFieldError: maxDamage
    at com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_.logLens(_lx_s_q_j_dddddddd_.java:49)


è¡¨æ˜æ‰§è¡Œåˆ° lens.maxDamage æ—¶å´©äº†ï¼Œå› ä¸ºè¿è¡Œæ—¶æ ¹æœ¬æ²¡æœ‰è¿™ä¸ªå­—æ®µã€‚

æ‰€ä»¥çŠ¶æ€æ˜¯ï¼š

æ–¹æ³•ç­¾ååŒ¹é…ï¼Œè°ƒç”¨æˆåŠŸã€‚

è¿›å…¥æ–¹æ³•åï¼Œåœ¨è®¿é—® maxDamage æ—¶æŠ›é”™ â†’ å‘½ä»¤æ‰§è¡Œè¢«ä¸­æ–­ï¼ŒFML æ•è·å¹¶åœ¨èŠå¤©æ¡†æ˜¾ç¤ºâ€œå‡ºç°æœªçŸ¥é”™è¯¯â€ã€‚

å¦‚æœä½ æƒ³ç¡®è®¤è°ƒç”¨ï¼Œä½†ä¸è®©æ•´ä¸ªå‘½ä»¤å¤±è´¥ï¼Œå¯ä»¥åœ¨ logLens é‡ŒåŒ…ä¸€å±‚ï¼š

public static void logLens(TileEntityCoreStabilizer te) {
    try {
        System.out.println("[logLens] called, s_=" + te);

        // è¿™é‡Œè®¿é—® lens
        ItemStack lens = te.inventory.getStackInSlot(0);
        if (!lens.isEmpty()) {
            System.out.println("maxDamage=" + lens.getItem().getMaxDamage(lens));
        }

    } catch (Throwable t) {
        System.out.println("[logLens] error: " + t.getClass().getName() + " - " + t.getMessage());
        t.printStackTrace();
    }
}


è¿™æ ·ï¼š

ä½ è¿˜èƒ½çœ‹åˆ° [logLens] calledï¼Œè¯æ˜æ–¹æ³•æ‰§è¡Œäº†ã€‚

å³ä½¿é‡Œé¢æŠ¥é”™ï¼Œä¹Ÿä¸ä¼šæŠŠ /checkstabilizer å‘½ä»¤æ•´ä½“æ‰“æ–­ã€‚

è¦ä¸è¦æˆ‘å¸®ä½ ç›´æ¥æ”¹æˆå®‰å…¨ç‰ˆæœ¬ï¼ˆå…¨ç”¨ getMaxDamageï¼Œå†åŠ  try/catchï¼‰ï¼Œè¿™æ ·ä½ ä¸‹æ¬¡æ‰§è¡Œå‘½ä»¤å°±èƒ½è·‘å®Œè€Œä¸æ˜¯æ‰åˆ°â€œæœªçŸ¥é”™è¯¯â€ï¼Ÿ

æ‚¨è¯´ï¼š
hbmè¿™ä¹ˆå¼•ç”¨çš„ï¼Œä½ æ”¹ä¸äº†,

                                å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼Œç°åœ¨æ³¨å…¥æ˜¯æ”¹ç‡ƒæ–™å¤§å°ï¼Œå¯èƒ½å°±æ˜¯mixin,coreå˜äº†å¯¼è‡´çš„é—®é¢˜

                             package com.hbm.tileentity.machine;

import java.util.List;

import com.hbm.entity.effect.EntityCloudFleijaRainbow;
import com.hbm.entity.logic.EntityNukeExplosionMK3;
import com.hbm.forgefluid.FFUtils;
import com.hbm.forgefluid.FluidTypeHandler;
import com.hbm.forgefluid.ModForgeFluids;
import com.hbm.handler.ArmorUtil;
import com.hbm.items.ModItems;
import com.hbm.items.machine.ItemCatalyst;
import com.hbm.items.special.ItemAMSCore;
import com.hbm.lib.Library;
import com.hbm.lib.ModDamageSource;
import com.hbm.main.AdvancementManager;
import com.hbm.tileentity.TileEntityMachineBase;

import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.SoundEvents;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.util.ITickable;
import net.minecraft.util.SoundCategory;
import net.minecraft.util.math.AxisAlignedBB;
import net.minecraftforge.fluids.Fluid;
import net.minecraftforge.fluids.FluidRegistry;
import net.minecraftforge.fluids.FluidStack;
import net.minecraftforge.fluids.FluidTank;
import net.minecraftforge.fml.relauncher.Side;
import net.minecraftforge.fml.relauncher.SideOnly;
import org.jetbrains.annotations.NotNull;

public class TileEntityCore extends TileEntityMachineBase implements ITickable {

	public boolean hasCore = false;
	public int field;
	public int heat;
	public int color;
	public FluidTank[] tanks;
	public int safeTimer = 0;
	
	public TileEntityCore() {
		super(3);
		tanks = new FluidTank[2];
		tanks[0] = new FluidTank(128000);
		tanks[1] = new FluidTank(128000);
	}

	@Override
	public String getName() {
		return "container.dfcCore";
	}

	@Override
	public void update() {
		if(!world.isRemote) {
			if(heat > 0 && heat >= field) {
				if(safeTimer > 20){
					int fill = tanks[0].getFluidAmount() + tanks[1].getFluidAmount();
					int max = tanks[0].getCapacity() + tanks[1].getCapacity();
					int mod = heat * 10;
					
					int size = Math.max(Math.min(fill * mod / max, 1000), 50);
					
					//System.out.println(fill + " * " + mod + " / " + max + " = " + size);

		    		world.playSound(null, pos.getX(), pos.getY(), pos.getZ(), SoundEvents.ENTITY_GENERIC_EXPLODE, SoundCategory.BLOCKS, 100000.0F, 1.0F);

					EntityNukeExplosionMK3 exp = new EntityNukeExplosionMK3(world);
					exp.posX = pos.getX();
					exp.posY = pos.getY();
					exp.posZ = pos.getZ();
					exp.destructionRange = size;
					exp.speed = 25;
					exp.coefficient = 1.0F;
					exp.waste = false;
				
					if(safeTimer > 1200 || !EntityNukeExplosionMK3.isJammed(this.world, exp)){
						world.spawnEntity(exp);
			    		
			    		EntityCloudFleijaRainbow cloud = new EntityCloudFleijaRainbow(world, size);
			    		cloud.posX = pos.getX();
			    		cloud.posY = pos.getY();
			    		cloud.posZ = pos.getZ();
			    		world.spawnEntity(cloud);
			    		world.setBlockToAir(pos);
			    	}
		    	}
		    	safeTimer++;
			} else {
				if(safeTimer > 0) safeTimer--;
			}
			
			if(inventory.getStackInSlot(0).getItem() instanceof ItemCatalyst && inventory.getStackInSlot(2).getItem() instanceof ItemCatalyst){
				color = calcAvgHex(
						((ItemCatalyst)inventory.getStackInSlot(0).getItem()).getColor(),
						((ItemCatalyst)inventory.getStackInSlot(2).getItem()).getColor()
				);
				hasCore = true;
			}else{
				color = 0;
				hasCore = false;
			}
			
			if(heat > 0){
				radiation();
			}
			
			NBTTagCompound data = new NBTTagCompound();
			data.setString("tank0", tanks[0].getFluid() == null ? "HBM_EMPTY" : tanks[0].getFluid().getFluid().getName());
			data.setString("tank1", tanks[1].getFluid() == null ? "HBM_EMPTY" : tanks[1].getFluid().getFluid().getName());
			data.setInteger("fill0", tanks[0].getFluidAmount());
			data.setInteger("fill1", tanks[1].getFluidAmount());
			data.setInteger("field", field);
			data.setInteger("heat", heat);
			data.setInteger("color", color);
			data.setBoolean("hasCore", hasCore);
			networkPack(data, 250);
			
			//PacketDispatcher.wrapper.sendToAllAround(new FluidTankPacket(pos, tanks), new TargetPoint(world.provider.getDimension(), pos.getX(), pos.getY(), pos.getZ(), 10));
			
			heat = 0;
			field = 0;
			this.markDirty();
		} else {
			
			//TODO: sick particle effects
		}
	}
	
	@Override
	public void networkUnpack(NBTTagCompound data) {
		String s0 = data.getString("tank0");
		String s1 = data.getString("tank1");
		if("HBM_EMPTY".equals(s0)){
			tanks[0].setFluid(null);
		} else {
			tanks[0].setFluid(new FluidStack(FluidRegistry.getFluid(s0), data.getInteger("fill0")));
		}
		if("HBM_EMPTY".equals(s1)){
			tanks[1].setFluid(null);
		} else {
			tanks[1].setFluid(new FluidStack(FluidRegistry.getFluid(s1), data.getInteger("fill1")));
		}
		field = data.getInteger("field");
		heat = data.getInteger("heat");
		color = data.getInteger("color");
		hasCore = data.getBoolean("hasCore");
	}
	
	private void radiation() {
		
		double scale = (int)Math.log(heat) * 1.25 + 0.5;
		
		int range = (int)(scale * 4);
		List<Entity> list = world.getEntitiesWithinAABBExcludingEntity(null, new AxisAlignedBB(pos.getX() - range + 0.5, pos.getY() - range + 0.5, pos.getZ() - range + 0.5, pos.getX() + range + 0.5, pos.getY() + range + 0.5, pos.getZ() + range + 0.5));
		
		for(Entity e : list) {
			boolean isPlayer = e instanceof EntityPlayer;
			if(!(isPlayer && ArmorUtil.checkForHazmat((EntityPlayer)e))){
				if(!(Library.isObstructed(world, pos.getX() + 0.5, pos.getY() + 0.5 + 6, pos.getZ() + 0.5, e.posX, e.posY + e.getEyeHeight(), e.posZ))){
					if(!isPlayer || (isPlayer && !((EntityPlayer)e).capabilities.isCreativeMode))
						e.attackEntityFrom(ModDamageSource.ams, this.heat * 100);
					e.setFire(3);
				}
			}
			if(isPlayer){
				AdvancementManager.grantAchievement(((EntityPlayer) e), AdvancementManager.progress_dfc);
			}
		}

		List<Entity> list2 = world.getEntitiesWithinAABBExcludingEntity(null, new AxisAlignedBB(pos.getX() - scale + 0.5, pos.getY() - scale + 0.5, pos.getZ() - scale + 0.5, pos.getX() + scale + 0.5, pos.getY() + scale + 0.5, pos.getZ() + scale + 0.5));
		
		for(Entity e : list2) {
			boolean isPlayer = e instanceof EntityPlayer;
			if(!(isPlayer && ArmorUtil.checkForHaz2((EntityPlayer)e))){
				if(!isPlayer || (isPlayer && !((EntityPlayer)e).capabilities.isCreativeMode))
					e.attackEntityFrom(ModDamageSource.amsCore, this.heat * 1000);
				e.setFire(3);
			}
		}
	}
	
	public int getFieldScaled(int i) {
		return (field * i) / 100;
	}
	
	public int getHeatScaled(int i) {
		return (heat * i) / 100;
	}
	
	public boolean isReady() {
		
		if(getCorePower() == 0)
			return false;
		
		if(color == 0)
			return false;
		
		if(tanks[0].getFluid() == null || tanks[1].getFluid() == null)
			return false;
		
		if(FluidTypeHandler.getDFCEfficiency(tanks[0].getFluid().getFluid()) <= 0 || FluidTypeHandler.getDFCEfficiency(tanks[1].getFluid().getFluid()) <= 0)
			return false;
		
		return true;
	}
	
	//100 emitter watt = 10000 joules = 1 heat = 10mB burned
	public long burn(long joules) {
		
		//check if a reaction can take place
		if(!isReady())
			return joules;
		
		int demand = (int)Math.sqrt((double)joules);

		long powerAbs = ItemCatalyst.getPowerAbs(inventory.getStackInSlot(0)) + ItemCatalyst.getPowerAbs(inventory.getStackInSlot(2));
		float powerMod = ItemCatalyst.getPowerMod(inventory.getStackInSlot(0)) * ItemCatalyst.getPowerMod(inventory.getStackInSlot(2));
		float heatMod = ItemCatalyst.getHeatMod(inventory.getStackInSlot(0)) * ItemCatalyst.getHeatMod(inventory.getStackInSlot(2));
		float fuelMod = ItemCatalyst.getFuelMod(inventory.getStackInSlot(0)) * ItemCatalyst.getFuelMod(inventory.getStackInSlot(2));	

		demand = (int)(getCoreFuel() * demand * fuelMod);
		
		//check if the reaction has enough valid fuel
		if(tanks[0].getFluidAmount() < demand || tanks[1].getFluidAmount() < demand)
			return joules;
		
		heat += (int)(getCoreHeat() * heatMod * Math.ceil((double)joules / 10000D));
		
		Fluid f1 = tanks[0].getFluid().getFluid();
		Fluid f2 = tanks[1].getFluid().getFluid();

		tanks[0].drain(demand, true);
		tanks[1].drain(demand, true);

		long powerOutput = (long) Math.max(0, (powerMod * joules * getCorePower() * FluidTypeHandler.getDFCEfficiency(f1) * FluidTypeHandler.getDFCEfficiency(f2)) + powerAbs);
		if(powerOutput > 0 && heat == 0)
			heat = 1;
		return powerOutput;
	}
	
	//TODO: move stats to the AMSCORE class
	//Alcater: ok did that
	public int getCorePower() {
		return ItemAMSCore.getPowerBase(inventory.getStackInSlot(1));
	}

	public float getCoreHeat() {
		return ItemAMSCore.getHeatBase(inventory.getStackInSlot(1));
	}

	public float getCoreFuel() {
		return ItemAMSCore.getFuelBase(inventory.getStackInSlot(1));
	}
	
	private int calcAvgHex(int h1, int h2) {

		int r1 = ((h1 & 0xFF0000) >> 16);
		int g1 = ((h1 & 0x00FF00) >> 8);
		int b1 = ((h1 & 0x0000FF) >> 0);
		
		int r2 = ((h2 & 0xFF0000) >> 16);
		int g2 = ((h2 & 0x00FF00) >> 8);
		int b2 = ((h2 & 0x0000FF) >> 0);

		int r = (((r1 + r2) / 2) << 16);
		int g = (((g1 + g2) / 2) << 8);
		int b = (((b1 + b2) / 2) << 0);
		
		return r | g | b;
	}
	
	@Override
	public AxisAlignedBB getRenderBoundingBox() {
		return TileEntity.INFINITE_EXTENT_AABB;
	}
	
	@Override
	@SideOnly(Side.CLIENT)
	public double getMaxRenderDistanceSquared()
	{
		return 65536.0D;
	}
	
	@Override
	public void readFromNBT(NBTTagCompound compound) {
		if(compound.hasKey("tanks"))
			FFUtils.deserializeTankArray(compound.getTagList("tanks", 10), tanks);
		super.readFromNBT(compound);
	}
	
	@Override
	public @NotNull NBTTagCompound writeToNBT(NBTTagCompound compound) {
		compound.setTag("tanks", FFUtils.serializeTankArray(tanks));
		return super.writeToNBT(compound);
	}
}




						long dmg = ItemLens.getLensDamage(inventory.getStackInSlot(0));
						dmg += watts;
						
						if(dmg >= lens.maxDamage)
							inventory.setStackInSlot(0, ItemStack.EMPTY);
						else
							ItemLens.setLensDamage(inventory.getStackInSlot(0), dmg);
						
						break;
					}

æ˜æ˜æœ‰get,ä½ ä¸€ç›´ä¹±è®²
ChatGPT è¯´ï¼š

æˆ‘çœ‹åˆ°é—®é¢˜çš„å…³é”®äº†ï¼š

åœ¨ä½ è´´çš„ä»£ç é‡Œï¼ŒHbm çš„ æºç é‡Œç¡®å®æ˜¯è¿™æ ·å†™çš„ï¼š

if (dmg >= lens.maxDamage)
    inventory.setStackInSlot(0, ItemStack.EMPTY);
else
    ItemLens.setLensDamage(inventory.getStackInSlot(0), dmg);


è¿™é‡Œè®¿é—®çš„æ˜¯ lens.maxDamage å­—æ®µã€‚è¿™åœ¨ åŸç‰ˆ Minecraft 1.12.2 çš„ Item ç±»é‡Œæ˜¯å­˜åœ¨çš„ï¼ˆpublic int maxDamage;ï¼‰ã€‚

ä½†æ˜¯ä½ æŠ¥é”™çš„å †æ ˆæ˜¯ï¼š

java.lang.NoSuchFieldError: maxDamage
    at com._test_ddddddd_.dfcfix._lx_s_q_j_dddddddd_.logLens(...)


è¯´æ˜è¿è¡Œæ—¶æ‰¾ä¸åˆ°è¿™ä¸ªå­—æ®µã€‚

è¿™æ„å‘³ç€ï¼š

ç¼–è¯‘æœŸå’Œè¿è¡ŒæœŸç”¨çš„ Item ç±»ä¸ä¸€è‡´

ä½ ç¼–è¯‘æ—¶å¼•ç”¨çš„æ˜¯ åŸç‰ˆ MCP/Mojang æ˜ å°„ä¸‹çš„ Itemï¼Œå®ƒæœ‰ maxDamage å­—æ®µã€‚

è¿è¡Œæ—¶ï¼ŒMixin/æ ¸å¿ƒæ”¹åŠ¨è¿‡çš„ Forge/Hbm ç¯å¢ƒé‡Œï¼ŒItem çš„å­—æ®µåå¯èƒ½å·²ç»è¢« ç§»é™¤æˆ–æ”¹åã€‚

Mixin/æ ¸å¿ƒæ¨¡ç»„æŠŠ Item çš„è®¿é—®æ”¹æ‰äº†

å¾ˆå¯èƒ½ Hbm æˆ–ä½ è‡ªå·±çš„ mixin ä¿®æ”¹é‡Œï¼ŒæŠŠ maxDamage æ›¿æ¢æˆäº† getMaxDamage(ItemStack) è¿™ç§æ–¹æ³•ã€‚

æ‰€ä»¥åŸæ¥èƒ½ç›´æ¥è®¿é—®çš„å­—æ®µï¼Œç°åœ¨è¦é€šè¿‡ getterã€‚

NoSuchFieldError æ˜¯è¿è¡Œæ—¶é”™è¯¯

ç¼–è¯‘æ—¶èƒ½é€šè¿‡ï¼Œä½†è¿è¡Œæ—¶å› ä¸º class æ–‡ä»¶ç»“æ„ä¸åŒï¼Œç›´æ¥è®¿é—®å­—æ®µå°±å´©äº†ã€‚

è¿™æ­£æ˜¯ mixin/coremod æ³¨å…¥çš„å…¸å‹å‘ã€‚

ç»“è®º

ä½ æ²¡ç†è§£é”™ï¼Œæºç é‡Œç¡®å®å†™çš„æ˜¯ lens.maxDamageï¼Œä¸æ˜¯ä½ è®°é”™ã€‚
é—®é¢˜å‡ºåœ¨ ä½ ç°åœ¨è¿è¡Œçš„ mod ç¯å¢ƒé‡Œ Item ç±»ç»“æ„è·Ÿæºç å¯¹ä¸ä¸Š â€”â€”å¾ˆå¯èƒ½ Hbm è‡ªå·±çš„ Mixin æˆ–ä½ åŠ çš„ Mixin æ”¹äº† Item ç±»ï¼Œå¯¼è‡´ maxDamage å­—æ®µä¸å­˜åœ¨äº†ã€‚

æ€ä¹ˆåŠ

å¦‚æœä½ åªæƒ³é¿å…å´©æºƒï¼Œå¯ä»¥æŠŠä½ çš„è°ƒç”¨æ”¹æˆï¼š

lens.getMaxDamage();


æˆ–

lens.getItem().getMaxDamage(lens);


è¿™ä¸¤ä¸ªæ˜¯å®‰å…¨ APIã€‚

å¦‚æœä½ ä¸èƒ½æ”¹ Hbm æºç ï¼Œé‚£åªèƒ½åœ¨ä½ çš„ mixin / åå°„é‡Œé¿å…ç›´æ¥è®¿é—® lens.maxDamageã€‚

æƒ³ç¡®è®¤çš„è¯ï¼Œä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ‰“å°ä¸€ä¸‹ Item.class.getDeclaredFields() çœ‹çœ‹åˆ°åº•è¿˜æœ‰æ²¡æœ‰ maxDamage è¿™ä¸ªå­—æ®µã€‚

è¦ä¸è¦æˆ‘å¸®ä½ å†™ä¸€å°æ®µåå°„ä»£ç ï¼ŒæŠŠè¿è¡Œæ—¶çš„ Item æ‰€æœ‰å­—æ®µåéƒ½ dump å‡ºæ¥ï¼Œè¿™æ ·ä½ èƒ½ä¸€çœ¼çœ‹å‡º maxDamage æœ‰æ²¡æœ‰è¢«ç§»é™¤ï¼Ÿ